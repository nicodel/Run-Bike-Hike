<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title data-l10n-id="title">Run, Bike, Hike...</title>
    <link rel="shortcut icon" sizes="128x128" href="img/icon128.png" type="image/png" />

    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link rel="apple-touch-icon" href="img/icons/128.png"/>
    <!-- Localization -->
    <link rel="prefetch" type="application/l10n" href="locales/locales.ini" />

    <!--······························ Brick ································-->
    <link rel="stylesheet" href="lib/brick/brick-1.0.1.byob.min.css"/>

    <!--····························· Leaflet ·······························-->
    <link rel="stylesheet" href="lib/leaflet/leaflet.css"/>

    <!--······························ Reset ································-->
    <link rel="stylesheet" href="css/reset.css"/>

    <!--······························ Fonts ································-->
    <link rel="stylesheet" href="css/fonts.css"/>

    <!--··························· My Flat Skin ····························-->
    <link rel="stylesheet" href="css/x.css"/>
    <link rel="stylesheet" href="css/x-layout.css"/>
    <link rel="stylesheet" href="css/x-appbar.css"/>
    <link rel="stylesheet" href="css/x-toggle.css"/>
    <link rel="stylesheet" href="css/form.css"/>
    <link rel="stylesheet" href="css/buttons.css"/>
    <link rel="stylesheet" href="css/switches.css"/>
    <link rel="stylesheet" href="css/spinner.css"/>
    <link rel="stylesheet" href="css/status.css"/>
    <link rel="stylesheet" href="css/input_areas.css"/>
    <link rel="stylesheet" href="css/select.css"/>

    <!--························ My common style ! ··························-->
    <link rel="stylesheet" href="css/app.css"/>
    <link rel="stylesheet" href="css/styles.css"/>



  </head>
  <body id="app">

    <x-deck transition-type="none" id="views">

      <!-- Card 0 :  Settings View -->
      <x-card>
        <x-layout>
          <x-appbar>
            <h1 data-l10n-id="settings" id="settings-tittle">Settings</h1>
            <button data-l10n-id="back" id="btn-settings-back" class="icon icon-forward">Back</button>
          </x-appbar>
          <section data-type="settings">
            <ul>
              <li>
                <label class="pack-switch">
                  <input class="uninit" type="checkbox" id="screen" />
                  <span class="menu-item" data-l10n-id="keep-screen-alive">Keep screen alive?</span>
                </label>
              </li>
              <li>
                <p data-l10n-id="language">Language</p>
                <select id="language">
                  <option value="en" data-l10n-id="english">English</option>
                  <option value="es" data-l10n-id="spanish">Español</option>
                  <option value="fr" data-l10n-id="french">Français</option>
                  <option value="de" data-l10n-id="german">Deutsch</option>
                </select>
              </li>
              <li>
                <p data-l10n-id="distance-unit">Distance unit</p>
                  <select id="distance">
                    <option value="0" data-l10n-id="metric">Metric</option>
                    <option value="1" data-l10n-id="imperial">Imperial</option>
                  </select>
              </li>
              <li>
                <p data-l10n-id="speed-unit">Speed unit</p>
                <select id="speed">
                  <option value="0">km/h</option>
                  <option value="1">mph</option>
                </select>
              </li>
              <li>
                <p data-l10n-id="position-format">Position format</p>
                <select id="position">
                  <option value="0">49°08'06.22</option>
                  <option value="1">49°08.104'</option>
                  <option value="2">49.135060</option>
                </select>
              </li>
              <li>
                <p data-l10n-id="geoposition-frequency">Geoposition frequency</p>
                <select id="frequency">
                  <option value="0" data-l10n-id="continuous">Continuous</option>
                  <option value="1" data-l10n-id="1-second" selected>1 second (default)</option>
                  <option value="2" data-l10n-id="2-seconds">2 seconds</option>
                  <option value="5" data-l10n-id="5-seconds">5 seconds</option>
                  <option value="10" data-l10n-id="10-seconds">10 seconds</option>
               </select>
              </li>
              <li>
                <p data-l10n-id="settings-storage">Default storage location</p>
                <select id="storage">
                </select>
              </li>

              <li>
                <h2 data-l10n-id="informations" class="about">Informations</h2>
                <p class="about">Run, Bike, Hike...<span data-l10n-id="version" data-l10n-args='{"version":"0.1.18"}' class="align-right"></span></p>
                <p data-l10n-id="contribute" class="about">You can <a href="https://github.com/nicodel/Run-Bike-Hike">contribute</a> to the project.</p>
                <p data-l10n-id="translate" class="about">You can help <a href="https://www.transifex.com/projects/p/run-bike-hike/translate/">localize it</a> in your language.</p>
                <p data-l10n-id="bug" class="about">You can also report a <a href="https://github.com/nicodel/Run-Bike-Hike/issues">bug</a>.</p>
                <p data-l10n-id="contributors" class="about">The contributors to this project are <a href="https://github.com/nicodel">nicodel</a>, Bonbadil, <a target="_blank" href="https://mathieu.rochette.cc/">mathroc</a>.</p>
                <p data-l10n-id="credits" class="about">The sports icons are under CC BY, and made by <a href="http://icons8.com/">icons8.com</a>.</p>
                <p data-l10n-id="licence" class="about">This application source code is licenced under the <a href="http://www.mozilla.org/MPL/2.0/">MPL2.0</a> licence.</p>
              </li>
            </ul>
          </section>
        </x-layout>
      </x-card>

      <!-- Card 1 :  Home View -->
      <x-card>
        <x-layout>
          <x-appbar>
            <button id="btn-settings" class="icon icon-settings">Settings</button>
            <h1>Run, Bike, Hike...</h1>
            <button data-l10n-id="tracks" id="btn-tracks" class="icon icon-list">Tracks</button>
          </x-appbar>
          <section data-type="home">
              <ul>
                <li>
                  <div data-l10n-id="elapsed-time" class="home-title text-big text-thin">Elapsed time</div>
                  <div id="home-chrono" class="home-value align-center text-huger text-thin new-line">0:00:00</div>
                  <button data-l10n-id="pause" id="btn-pause" class="hidden recommend small icon icon-pause">Pause</button>
                </li>
                <li>
                  <div data-l10n-id="distance" class="home-title text-big text-thin">Distance
                  <span id="dist-unit"></span></div>
                  <div id="home-dist" class="home-value align-center text-huge text-thin">--</div>
                </li>
                <li>
                  <div data-l10n-id="speed" class="home-title text-big text-thin">Speed
                  <span id="speed-unit"></span></div>
                  <div id="home-speed" class="home-value align-center text-huge text-thin">--</div>
                </li>
                <li class="bottom">
                  <div data-l10n-id="altitude"  class="new-line home-title text-small text-thin">Altitude
                  <span id="alt-unit"></span></div>
                  <div id="home-alt" class="new-line home-value align-center text-big text-thin">?</div>

                  <div data-l10n-id="accuracy" class="new-line home-title text-small text-thin">Accuracy
                  <span id="acc-unit"></span></div>
                  <div id="home-acc" class="new-line home-value align-center text-big text-thin">?</div>
                </li>
                <li class="bottom">
                  <div data-l10n-id="latitude" class="new-line home-title text-small text-thin">Latitude</div>
                  <div id="home-lat" class="new-line home-value-right text-small text-thin">?</div>

                  <div data-l10n-id="longitude" class="new-line home-title text-small text-thin">Longitude</div>
                  <div id="home-lon" class="new-line home-value-right text-small text-thin">?</div>

                  <div data-l10n-id="direction" class="new-line home-title text-small text-thin">Direction</div>
                  <div id="home-dir" class="new-line home-value-right text-small text-thin">?</div>
                </li>
                <li class="button">
                  <button data-l10n-id="start" id="btn-start-stop" class="recommend big">Start</button>
                </li>


                <li id="message" class="front">
                  <div id="message-area" class="align-center">
                    <progress id="spinner"></progress>
                    <p data-l10n-id="retreiving" id="msg" class="text-big align-center">Retrieving GPS signal. It may take some time...</p>
                    <p data-l10n-id="accmsg" id="accmsg" class="hidden text-big align-center"></p>
                    <p id="errmsg" class="hidden text-big align-center"></p>
                  </div>
                </li>
              </ul>
          </section>
        </x-layout>
      </x-card>

      <!-- Card 2 :  Stop tracking confirmation form -->
      <x-card transition-type="fade-scale">
        <form id="stop-form-confirm" role="dialog" data-type="confirm">
          <section>
            <h1 data-l10n-id="confirmation">Confirmation</h1>
            <p>
              <span data-l10n-id="stop-track-desc">Are you sure you want to stop recording this track?</span>
            </p>
          </section>
          <menu>
            <button id="btn-cancel-stop" class="cancel" data-l10n-id="cancel">Cancel</button>
            <button id="btn-confirm-stop" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
          </menu>
        </form>
      </x-card>

      <!-- Card 3 :  Tracks View -->
      <x-card>
        <x-layout>
          <x-appbar>
            <button data-l10n-id="back" id="btn-tracks-back" class="icon icon-back">Back</button>
            <h1 data-l10n-id="recorded-tracks">Recorded tracks</h1>
            <button data-l10n-id="import" id="btn-import" class="icon icon-import">Import</button>
          </x-appbar>
          <section data-type="list">
            <div id="list-spinner"><progress></progress></div>
            <ul id="tracks-list" data-state="dirty">
            </ul>
          </section>
        </x-layout>
      </x-card>

      <!-- Card 4 :  Track View -->
      <x-card>
        <x-appbar>
          <button id="btn-track-back" class="icon icon-back">Back</button>
          <h1 id="tr-name"></h1>
          <button data-l10n-id="delete" class="icon icon-delete" id="btn-delete">Delete</button>
          <button data-l10n-id="share" class="icon icon-share" id="btn-share">Share</button>
          <button data-l10n-id="edit" class="icon icon-edit" id="btn-edit">Edit</button>
        </x-appbar>
        <x-layout>
          <section data-type="details">
            <ul>
              <li>
                <div data-l10n-id="date">
                  Date
                  <span id="trk-date" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="distance">
                  Distance
                  <span id="trk-dist" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="duration">
                  Duration
                  <span id="trk-dur" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="max-speed">
                  Max speed
                  <span id="trk-max-speed" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="av-speed">
                  Average speed
                  <span id="trk-av-speed" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="max-alt">
                  Max altitude
                  <span id="trk-max-alt" class="bold align-right"></span>
                </div>
              </li>
              <li class="separateur-bottom">
                <div data-l10n-id="min-alt">
                  Min altitude
                  <span id="trk-min-alt" class="bold align-right"></span>
                </div>
              </li>
              <li class="separateur-bottom">
                <div id="spinner-box" class="align-center">
                  <progress id="track-spinner"></progress>
                  <p data-l10n-id="loading-map" id="map-text">Loading map...</p>
                </div>
                <!-- <img src="" id="map&#45;img" class="hidden" /> -->
                <div id='map'></div>
              </li>
              <li class="separateur-bottom">
                <canvas id="graphs-canvas"></canvas>
              </li>

            </ul>
          </section>
        </x-layout>
      </x-card>

      <!--  Card 5 : Delete track confirmation form -->
      <x-card  transition-type="fade-scale">
        <form id="del-form-confirm" role="dialog" data-type="confirm">
          <section>
            <h1 data-l10n-id="confirmation">Confirmation</h1>
            <p>
              <span data-l10n-id="delete-track-desc">Are you sure you want to delete this track?</span>
            </p>
          </section>
          <menu>
            <button id="btn-cancel-delete" class="cancel" data-l10n-id="cancel">Cancel</button>
            <button id="btn-confirm-delete" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
          </menu>
        </form>
      </x-card>

      <!--  Card 6 : Edit a track form -->
      <x-card  transition-type="fade-scale">
        <form id="edit-form" role="dialog" data-type="entry" class="light">
          <section>
            <h1 data-l10n-id="rename-track">Rename a track</h1>
            <p>
              <input type="text" placeholder="" id="input-rename">
              <button type="reset" data-l10n-id="clear" id="btn-clear-rename">Clear</button>
            </p>
            <h1 data-l10n-id="change-track-icon">Change the track's icon</h1>
            <p id="icons-list">
              <img id="icon-default" src="img/activities/default.svg"/>
              <img id="icon-walking" src="img/activities/walking.svg"/>
              <img id="icon-running" src="img/activities/running.svg"/>
              <img id="icon-racing" src="img/activities/racing.svg"/>
              <img id="icon-trekking" src="img/activities/trekking.svg"/>
              <img id="icon-climbing" src="img/activities/climbing.svg"/>
              <img id="icon-swimming" src="img/activities/swimming.svg"/>
              <img id="icon-paddling" src="img/activities/paddling.svg"/>
              <img id="icon-regular_biking" src="img/activities/regular_biking.svg"/>
              <img id="icon-time_trial_biking" src="img/activities/time_trial_biking.svg"/>
              <img id="icon-mountain_biking" src="img/activities/mountain_biking.svg"/>
              <img id="icon-horse_riding" src="img/activities/horse_riding.svg"/>
              <img id="icon-skiing" src="img/activities/skiing.svg"/>
            </p>
          </section>
          <menu>
            <button id="btn-cancel-edit" class="cancel" data-l10n-id="cancel">Cancel</button>
            <button id="btn-confirm-edit" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
          </menu>
        </form>
      </x-card>

      <!--  Card 7 : Share a track form -->
      <x-card  transition-type="fade-scale">
        <form id="share-form" role="dialog" data-type="entry" class="light">
          <section>
            <h1 data-l10n-id="share-track">Share a track</h1>
            <p>
              <span data-l10n-id="choose-how-share-track">Choose how you want to share your track</span>
            </p>
            <label class="pack-radio">
              <input type="radio" value="on-device" name="radio-share" checked>
              <span data-l10n-id="export-device-storage">Export track in GPX format to device storage</span>
            </label>
            <label class="pack-radio disable">
              <input type="radio" value="on-social" name="radio-share" disabled>
              <span data-l10n-id="share-social-apps">Be proud to share your track to the social apps installed on your device.</span>
            </label>
          </section>
          <menu>
            <button id="btn-cancel-share" class="cancel" data-l10n-id="cancel">Cancel</button>
            <button id="btn-confirm-share" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
          </menu>
        </form>
      </x-card>

      <!-- Card 8 : Import a track form form -->
      <x-card transition-type="fade-scale">
        <form id="import-form" role="dialog" data-type="entry" class="light">
          <section data-type="file-selector">
            <h1 data-l10n-id="import-track">Import a GPX file</h1>
            <p>
              <span id="import-track-path"></span>
            </p>
            <select id="select-file">
              <option value="empty">--</option>
            </select>
            <input id="input-file" type="file" class="hidden"></input>
            <p id="import-msg-area"></p>
          </section>
          <menu>
            <button id="btn-cancel-import" class="cancel" data-l10n-id="cancel">Cancel</button>
            <button id="btn-confirm-import" role="button" class="danger" data-l10n-id="import" disabled="disabled">Import</button>
          </menu>
        </form>
        <div id="import-spinner-area" class="hidden behind">
          <progress id="import-spinner"class="align-center top40"></progress>
        </div>
      </x-card>

    </x-deck>

  </body>
    <!-- Localization -->
    <script type="text/javascript" src="lib/webL10n/l10n.js"></script>
    <script type="text/javascript" src="lib/brick/brick-1.0.1.byob.min.js"></script>
    <script type="text/javascript" src="js/views/home-view.js"></script>
    <script type="text/javascript" src="lib/leaflet/leaflet.js"></script>
    <script type="text/javascript" src="js/views/infos-view.js"></script>
    <script type="text/javascript" src="js/views/tracks-view.js"></script>
    <script type="text/javascript" src="js/views/import-view.js"></script>
    <script type="text/javascript" src="js/views/track-view.js"></script>
    <script type="text/javascript" src="js/views/status.js"></script>
    <script type="text/javascript" src="js/models/chrono.js"></script>
    <script type="text/javascript" src="js/models/config.js"></script>
    <script type="text/javascript" src="js/models/share.js"></script>
    <script type="text/javascript" src="js/models/gpx.js"></script>
    <script type="text/javascript" src="js/models/dynamicmap.js"></script>
    <script type="text/javascript" src="js/models/fx_device_storage.js"></script>
    <script type="text/javascript" src="js/models/db.js"></script>
    <script type="text/javascript" src="js/models/tracks.js"></script>
    <script type="text/javascript" src="js/events.js"></script>
    <script type="text/javascript" src="js/controller.js"></script>
    <script type="text/javascript" src="js/app.js"></script>

</html>
